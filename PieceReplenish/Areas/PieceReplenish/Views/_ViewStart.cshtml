@*
Code to use the layout in the Mobile directory for calls from mobile devices.
Inspired by http://www.michaelfcollins3.me/2011/01/changing-your-razor-view-layout-for-themes-and-devices/
Determines the path of the layout page based on device specific rules.
*@
@{
    // If layout has already been set by the view, do not change it
    var layoutResult = ViewEngines.Engines.FindPartialView(ViewContext.Controller.ControllerContext, MVC_PieceReplenish.PieceReplenish.Shared.Views._layout);
    var layoutView = (RazorView)layoutResult.View;
    Layout = layoutView == null ? null : layoutView.ViewPath;

    this.ViewContext.HttpContext.Trace.Write("View Name", this.VirtualPath);
}



@*
    $Id: _ViewStart.cshtml 17725 2012-07-26 08:18:57Z bkumar $ 
    $Revision: 17725 $
    $URL: svn://vcs/net4/Projects/Mvc/DcmsMobile.Pull/trunk/Pull/Areas/PieceReplenish/Views/_ViewStart.cshtml $
    $Header: svn://vcs/net4/Projects/Mvc/DcmsMobile.Pull/trunk/Pull/Areas/PieceReplenish/Views/_ViewStart.cshtml 17725 2012-07-26 08:18:57Z bkumar $
    $Author: bkumar $
    $Date: 2012-07-26 13:48:57 +0530 (Thu, 26 Jul 2012) $
*@ 
